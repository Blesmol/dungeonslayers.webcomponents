<script src="registerTemplate.js"></script>

<link rel="import" href="texticon.html">

<template id="ds-stats">
	<style>
		table {
			width: 100%;
			text-align: right;
			table-layout: fixed;
		}

		hr {
			background-color: black;
			color: black;
			height: 2px;
			margin: 0px;
			margin-bottom: 5px;
			border: none;
		}

		.value {
			text-align: center;
		}

		.iconstats {
			width: 100%;
		}
	</style>
	<table>
		<tbody>
			<tr>
				<th class="desc">KÖR:</th>
				<th class="value" id="koer">0</th>
				<th class="desc">AGI:</th>
				<th class="value" id="agi">0</th>
				<th class="desc">GEI:</th>
				<th class="value" id="gei">0</th>
			</tr>
			<tr>
				<td class="desc">ST:</td>
				<td class="value" id="st">0</td>
				<td class="desc">BE:</td>
				<td class="value" id="be">0</td>
				<td class="desc">VE:</td>
				<td class="value" id="ve">0</td>
			</tr>
			<tr>
				<td class="desc">HÄ:</td>
				<td class="value" id="hae">0</td>
				<td class="desc">GE:</td>
				<td class="value" id="ge">0</td>
				<td class="desc">AU:</td>
				<td class="value" id="au">0</td>
			</tr>
		</tbody>
	</table>

	<hr />

	<table>
		<tbody>
			<tr>
				<td><ds-texticon id="hp"     class="iconstats" size="2em" icon="icons/stats/lebenskraft.png"> 0 </ds-texticon> </td>
				<td><ds-texticon id="def"    class="iconstats" size="2em" icon="icons/stats/abwehr.png">      0 </ds-texticon> </td>
				<td><ds-texticon id="ini"    class="iconstats" size="2em" icon="icons/stats/initiative.png">  0 </ds-texticon> </td>
				<td><ds-texticon id="speed"  class="iconstats" size="2em" icon="icons/stats/laufen.png">      0 </ds-texticon> </td>
				<td><ds-texticon id="meele"  class="iconstats" size="2em" icon="icons/stats/schlagen.png">    0 </ds-texticon> </td>
				<td><ds-texticon id="ranged" class="iconstats" size="2em" icon="icons/stats/schiessen.png">   0 </ds-texticon> </td>
			</tr>
		</tbody>
	</table>
</template>

<script>
(function(window, document) {
	var templateName = "ds-stats";

	var attachedCallback = function() {
		var root = this.shadowRoot;
		for (var i = 0; i < this.attributes.length; ++i) {
			var attribute = this.attributes[i];
			var attributePrefix = attribute.name.substring(0,5);
			var statName = attribute.name.substring(5);
			if (attributePrefix != "stat-") { continue; }

			var statNode = root.getElementById(statName);
			if (statNode != null) {
				statNode.textContent = attribute.value;
			} else {
				alert("No stat with name '"+statName+"'");
			}
		}
	};

	registerTemplate(document, templateName, null, attachedCallback, null);
})(window, document);
</script>
