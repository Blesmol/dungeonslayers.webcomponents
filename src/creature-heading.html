<script src="registerTemplate.js"></script>

<template id="ds4-creature-heading">
	<style>
		#heading {
			background: black;
			font-family: 'Wood Stamp', sans-serif;
			color: white;
			font-size: 2em;
			text-align: center;
			padding-top: 0.1em;
			padding-bottom: 0.15em
		}

		table {
			border-collapse: collapse;
			border-bottom: 2px black solid;
			table-layout: fixed;
		}

		.sideContainer {
			width: 2.5em;
			padding: 0em;
			vertical-align: top;
			font-size: 0.5em;
		}

		#leftContainer {
			text-algin: left;
		}

		#rightContainer {
		}

		td {
		}
	</style>

	<div id="heading">
		<table style="width:100%">
			<tr>
				<td id="leftContainer" class="sideContainer">
					<ds4-texticon id="leftIcon"></ds4-texticon>
				</td>
				<td class="contentContainer">
					<content></content>
				</td>
				<td id="rightContainer" class="sideContainer">
					<ds4-texticon id="rightIcon"></ds4-texticon>
				</td>
			</tr>
		</table>
	</div>
</template>

<script>
(function(window, document) {
	var templateName = "ds4-creature-heading";

	var attachedCallback = function() {
		var root = this.shadowRoot;

		var leftIconElement	 = root.getElementById('leftIcon');
		var rightIconElement = root.getElementById('rightIcon');

		var leftIcon = this.getAttribute('type');
		if (leftIcon != null) {
			leftIcon = "icons/creatures/" + leftIcon + ".png";
		}
		var leftText = this.getAttribute('typeText');
		var rightIcon = this.getAttribute('rightIcon');
		var rightText = this.getAttribute('rightText');

		var setIconAndText = function(target, icon, text) {
			if (icon != null) {
				target.setAttribute("icon", icon);
				target.setAttribute("size", "30px"); // TODO move to style
			}
			if (text != null) {
				target.textContent = text;
			}
		};

		setIconAndText(leftIconElement, leftIcon, leftText);
		setIconAndText(rightIconElement, rightIcon, rightText);
	};

	registerTemplate(document, templateName, null, attachedCallback, null);
})(window, document);
</script>
