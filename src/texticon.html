<script src="registerTemplate.js"></script>

<template id="ds-texticon">
	<style>
		:host {
			display: inline-block;
		}

		#texticon {
			display:table-cell;
			text-align:center;
			vertical-align:middle;
			font-family: 'Wood Stamp', 'Anton', sans-serif;
			font-size: 1.4em;
			/*font-size: 28px;*/
			/* border: 1px black solid; */

			background-size:contain;
			background-repeat:no-repeat;
			background-position:center;
		}
	</style>

	<div id="texticon">
		<content></content>
	</div>
</template>

<script>
(function(window, document) {
	var templateName = "ds-texticon";

	var updateElement = function(tthis) {
		var target = tthis.shadowRoot.getElementById('texticon');

		var argIcon = tthis.getAttribute('icon');
		var argSize = tthis.getAttribute('size');
		var argFontSize = tthis.getAttribute('fontSize');

		if (argIcon != null) {
			argIcon = "url(" + argIcon + ")";
			target.style.backgroundImage = argIcon;
		}
		if (argSize != null) {
			//alert(target.clientWidth+"/"+target.style.width + "/"+argSize);
			target.style.width = argSize;
			//alert(target.clientWidth+"/"+target.style.width);
			target.style.height = target.clientWidth + "px";
		}
		if (argFontSize != null) {
			target.style.fontSize = argFontSize;
		}
	};

	var attachedCallback = function() {
		updateElement(this);
	};

	var attributeChangedCallback = function(attrName, oldVal, newVal) {
		updateElement(this);
	};

	registerTemplate(document, templateName, null, attachedCallback, attributeChangedCallback);
})(window, document);
</script>
